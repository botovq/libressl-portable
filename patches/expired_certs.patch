Backport code changes from
https://github.com/openbsd/src/commit/0ba45550bfdb217ee30cddf6b559a5f2588c053e

--- tests/keypairtest.c.orig	Mon Mar 25 17:35:37 2024
+++ tests/keypairtest.c	Mon Mar 25 18:05:33 2024
@@ -1,4 +1,4 @@
-/* $OpenBSD: keypairtest.c,v 1.6 2022/02/08 18:05:57 tb Exp $ */
+/* $OpenBSD: keypairtest.c,v 1.7 2024/03/20 10:38:05 jsing Exp $ */
 /*
  * Copyright (c) 2018 Joel Sing <jsing@openbsd.org>
  *
@@ -29,7 +29,7 @@
 #include <tls_internal.h>
 
 #define PUBKEY_HASH \
-    "SHA256:858d0f94beb0a08eb4f13871ba57bf0a2e081287d0efbaeb3bbac59dd8f1a8e5"
+    "SHA256:f03c535d374614e7356c0a4e6fd37fe94297b60ed86212adcba40e8e0b07bc9f"
 
 char *cert_file, *key_file, *ocsp_staple_file;
 
--- tests/ssl_get_shared_ciphers.c.orig	Mon Mar 25 17:35:37 2024
+++ tests/ssl_get_shared_ciphers.c	Mon Mar 25 18:05:33 2024
@@ -1,4 +1,4 @@
-/*	$OpenBSD: ssl_get_shared_ciphers.c,v 1.11 2022/02/05 18:19:39 tb Exp $ */
+/*	$OpenBSD: ssl_get_shared_ciphers.c,v 1.12 2024/03/20 10:38:05 jsing Exp $ */
 /*
  * Copyright (c) 2021 Theo Buehler <tb@openbsd.org>
  *
@@ -462,7 +462,7 @@ main(int argc, char **argv)
 	size_t i;
 	int failed = 0;
 
-	if (asprintf(&server_cert, "%s/server.pem", CERTSDIR) == -1) {
+	if (asprintf(&server_cert, "%s/server1-rsa.pem", CERTSDIR) == -1) {
 		fprintf(stderr, "asprintf server_cert failed\n");
 		failed = 1;
 		goto err;
